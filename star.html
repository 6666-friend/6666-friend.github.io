<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>随机点名（外框高亮版）</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:"PingFang SC",Arial,Helvetica,sans-serif;}
body{background:#fff;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding-top:60px;position:relative;overflow-x:hidden;}
#display{font-size:90px;font-weight:700;color:#27ae60;margin-bottom:50px;height:120px;display:flex;align-items:center;justify-content:center;}

/* 数字按钮 1.2 倍 */
.grid{display:grid;grid-template-columns:repeat(10,72px);gap:12px;margin:0 0 50px 0;}
.btn{
    width:72px;height:72px;border:none;border-radius:12px;background:#27ae60;color:#fff;
    font-size:29px;font-weight:700;display:flex;align-items:center;justify-content:center;
    position:relative;pointer-events:none;transition:all .2s;box-sizing:border-box;
}
.btn.highlight::before{
    content:'';
    position:absolute;
    top:-6px;left:-6px;right:-6px;bottom:-6px;
    border:6px solid #1e8449;
    border-radius:18px;
}

/* 控制按钮保持放大 */
#control{
    padding:24px 120px;font-size:36px;background:#27ae60;color:#fff;border:none;
    border-radius:15px;cursor:pointer;transition:border .2s;
}
#control.highlight{
    border:12px solid #1e8449;
    padding:12px 108px;
}

/* 其余样式不变 */
#aboutBtn{position:fixed;top:30px;right:30px;padding:12px 24px;background:#27ae60;color:#fff;border:none;border-radius:8px;font-size:20px;z-index:1000;transition:opacity .3s;}
#aboutBtn.hide{opacity:0;pointer-events:none;}
#sidebar{position:fixed;top:0;right:-350px;width:350px;height:100%;background:#f7f7f7;box-shadow:-3px 0 8px rgba(0,0,0,.2);transition:right .3s;padding:40px;display:flex;flex-direction:column;gap:20px;z-index:999;}
#sidebar.open{right:0;}
#sidebar button{padding:20px;border:none;border-radius:10px;background:#27ae60;color:#fff;font-size:24px;cursor:pointer;}
#sidebar button:hover{background:#1e8449;}
#overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.4);z-index:998;display:none;}
#overlay.show{display:block;}
</style>
</head>
<body>

<button id="aboutBtn">关于</button>
<div id="display"></div>
<div class="grid" id="grid"></div>
<button id="control">开始</button>

<div id="sidebar">
    <button id="authorBtn">作者</button>
    <button id="sourceBtn">源码</button>
    <button id="settingsBtn">设置</button>
</div>
<div id="overlay"></div>

<script>
/* 渲染 1.2 倍数字 */
function renderGrid(max=50){
    const grid=document.getElementById('grid');
    grid.innerHTML='';
    for(let i=1;i<=max;i++){
        const b=document.createElement('div');
        b.className='btn'; b.textContent=i; b.dataset.num=i;
        grid.appendChild(b);
    }
}
renderGrid();

const display=document.getElementById('display');
const controlBtn=document.getElementById('control');
let running=false;
let timer=null;
let currentNum=null;

function highlight(el){
    document.querySelectorAll('.btn, #control').forEach(e=>e.classList.remove('highlight'));
    if(el) el.classList.add('highlight');
}

controlBtn.addEventListener('click',()=>{
    if(!running){
        running=true;
        controlBtn.textContent='暂停';
        timer=setInterval(()=>{
            document.querySelectorAll('.btn').forEach(el=>el.classList.remove('highlight'));
            currentNum=Math.floor(Math.random()*parseInt(localStorage.max||50))+1;
            display.textContent=`点到了 ${currentNum}`;
            const target=document.querySelector(`.btn[data-num="${currentNum}"]`);
            highlight(target);
        },100);
    }else{
        running=false;
        controlBtn.textContent='开始';
        clearInterval(timer);
        display.textContent='点到了 开始';
        highlight(controlBtn);
    }
});

/* 侧边栏控制 */
const aboutBtn=document.getElementById('aboutBtn');
const sidebar=document.getElementById('sidebar');
const overlay=document.getElementById('overlay');
function toggleSidebar(show){
    sidebar.classList.toggle('open',show);
    overlay.classList.toggle('show',show);
    aboutBtn.classList.toggle('hide',show);
}
aboutBtn.addEventListener('click',()=>toggleSidebar(true));
overlay.addEventListener('click',()=>toggleSidebar(false));

document.getElementById('authorBtn').addEventListener('click',()=>window.open('https://b23.tv/mttsnH7','_blank'));
document.getElementById('sourceBtn').addEventListener('click',()=>window.open('https://github.com/1145Dragonp/dmxt.github.io/'));
document.getElementById('settingsBtn').addEventListener('click',()=>{
    const max=prompt('请输入最大数字（默认50）',localStorage.max||50);
    if(max && !isNaN(max)){localStorage.max=max; renderGrid(parseInt(max));}
});
</script>
</body>
</html>
